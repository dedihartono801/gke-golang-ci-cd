{"app_name":"Human-Capital-Api","app_version":"0.1.0","level":"info","log":"logrus","log_type":"query","msg":"SELECT \n\t\thos.id, \n\t\thos.job_id,\n\t\thos.division_id,\n\t\thos.employee_id,\n\t\the.name as employee_name,\n\t\thj.job_title,\n\t\thos.company_name,\n\t \the.image_url, \n\t\the.date_of_join,\n        he.report_to,\n\t\thd.name as division_name,\n\t\the.date_of_birth,\n\t\the.position_status,\n\t\the.cost_center,\n\t\the.successor,\n\t\the.job_status,\n\t\the.subordinate,\n\t\the.job_placement,\n\t\the.job_grade,\n\t\the.email,\n\t\the.linkedin_url,\n\t\the.university_name as university\n\t\tFROM hc_org_structure as hos\n\tINNER JOIN hc_employee as he ON hos.employee_id = he.id\n\tINNER JOIN hc_job as hj ON hos.job_id = hj.id\n\tINNER JOIN hc_division as hd ON hos.division_id = hd.id\n\tWHERE hos.is_delete = ? AND hos.id = ?","time":"2024-04-24T05:54:24Z"}
{"app_name":"Human-Capital-Api","app_version":"0.1.0","error_type":"data not found","level":"error","log":"logrus","log_type":"response","method":"GET","msg":"sql: no rows in result set","request":"ewogICAgIm5hbWUiOiJkZWRpIgp9","route":"/v2/organization-structure/20","time":"2024-04-24T05:54:24Z"}
{"app_name":"Human-Capital-Api","app_version":"0.1.0","level":"info","log":"logrus","log_type":"query","msg":"SELECT \n\t\thos.id, \n\t\thos.job_id,\n\t\thos.division_id,\n\t\thos.employee_id,\n\t\the.name as employee_name,\n\t\thj.job_title,\n\t\thos.company_name,\n\t \the.image_url, \n\t\the.date_of_join,\n        he.report_to,\n\t\thd.name as division_name,\n\t\the.date_of_birth,\n\t\the.position_status,\n\t\the.cost_center,\n\t\the.successor,\n\t\the.job_status,\n\t\the.subordinate,\n\t\the.job_placement,\n\t\the.job_grade,\n\t\the.email,\n\t\the.linkedin_url,\n\t\the.university_name as university\n\t\tFROM hc_org_structure as hos\n\tINNER JOIN hc_employee as he ON hos.employee_id = he.id\n\tINNER JOIN hc_job as hj ON hos.job_id = hj.id\n\tINNER JOIN hc_division as hd ON hos.division_id = hd.id\n\tWHERE hos.is_delete = ? AND hos.id = ?","time":"2024-04-24T05:55:15Z"}
{"app_name":"Human-Capital-Api","app_version":"0.1.0","error_type":"data not found","level":"error","log":"logrus","log_type":"response","method":"GET","msg":"sql: no rows in result set","request":"ewogICAgIm5hbWUiOiJkZWRpIgp9","route":"/v2/organization-structure/20","time":"2024-04-24T05:55:15Z"}
{"app_name":"Human-Capital-Api","app_version":"0.1.0","level":"info","log":"logrus","log_type":"query","msg":"\n\t\t\tWITH RECURSIVE EmployeeHierarchy AS (\n        SELECT \n            hos.id,\n            hos.employee_id,\n            hos.parent_id,\n            hos.company_name,\n            hos.job_id,\n\t\t\the.country_id,\n\t\t\thos.company_id\n        FROM \n            hc_org_structure as hos\n\t\tINNER JOIN\n\t\t\thc_employee he ON hos.employee_id = he.id\n        WHERE \n            1 = 1 UNION ALL\n        SELECT \n            hos.id,\n            hos.employee_id,\n            hos.parent_id,\n            hos.company_name,\n            hos.job_id,\n\t\t\teh.country_id,\n\t\t\teh.company_id\n        FROM \n            hc_org_structure hos\n        INNER JOIN \n            EmployeeHierarchy eh ON hos.parent_id = eh.id\n    )\n\t\t\tSELECT \n\t\t\t\tDISTINCT\n\t\t\t\thos.employee_id,\n\t\t\t\thos.id, \n\t\t\t\the.name as employee_name,\n\t\t\t\thos.company_name, \n\t\t\t\tIFNULL(hos.parent_id, 0) as parent_id,\n\t\t\t\thj.job_title as job_position,\n\t\t\t\the.image_url as image_url,\n\t\t\t\the.is_management_trainee,\n\t\t\t\the.country_id,\n\t\t\t\thos.company_id,\n\t\t\t\thos.division_id,\n\t\t\t\thos.department_id,\n\t\t\t\thos.job_id\n\t\t\tFROM hc_org_structure as hos\n\t\t\tINNER JOIN hc_employee as he ON hos.employee_id = he.id\n\t\t\tINNER JOIN hc_job as hj ON hos.job_id = hj.id\n\t\t\tINNER JOIN EmployeeHierarchy ON hos.id = EmployeeHierarchy.id\n\t\t\tWHERE hos.is_delete = ? ","time":"2024-04-25T01:59:49Z"}
{"app_name":"Human-Capital-Api","app_version":"0.1.0","level":"info","log":"logrus","log_type":"response","method":"GET","msg":"get lists data organization structure success","request":"{\n    \"name\":\"dedi\"\n}","response":[{"id":1,"employee_id":1,"country_id":"MCS-0000002","company_id":"PP01","division_id":"1","department_id":"1","job_id":"1","image_url":"https://storage.epc.nabatisnack.co.id:9000/hcms/Frank_Lampard_2019.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=KwFYq6xB4r9h0itI6bxB%2F20240425%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240425T015950Z\u0026X-Amz-Expires=432000\u0026X-Amz-SignedHeaders=host\u0026response-content-disposition=attachment%3B%20filename%3DFrank_Lampard_2019.jpeg\u0026X-Amz-Signature=ed750e6a28aceb9ed8dce41dabc8cdbd32847f51f497b725c4efea5fad7582c3","employee_name":"Arief Employee 1","job_position":"CTO","company_name":"-","parent_id":0,"is_management_trainee":false,"child":[{"id":2,"employee_id":2,"country_id":"MCS-0000002","company_id":"PP01","division_id":"2","department_id":"1","job_id":"2","image_url":"https://storage.epc.nabatisnack.co.id:9000/hcms/Frank_Lampard_2019.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=KwFYq6xB4r9h0itI6bxB%2F20240425%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240425T015950Z\u0026X-Amz-Expires=432000\u0026X-Amz-SignedHeaders=host\u0026response-content-disposition=attachment%3B%20filename%3DFrank_Lampard_2019.jpeg\u0026X-Amz-Signature=ed750e6a28aceb9ed8dce41dabc8cdbd32847f51f497b725c4efea5fad7582c3","employee_name":"Arief Employee 2","job_position":"Engineering Manager","company_name":"-","parent_id":1,"is_management_trainee":false,"child":[{"id":3,"employee_id":3,"country_id":"MCS-0000002","company_id":"PP01","division_id":"1","department_id":"1","job_id":"3","image_url":"https://storage.epc.nabatisnack.co.id:9000/hcms/Frank_Lampard_2019.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=KwFYq6xB4r9h0itI6bxB%2F20240425%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240425T015950Z\u0026X-Amz-Expires=432000\u0026X-Amz-SignedHeaders=host\u0026response-content-disposition=attachment%3B%20filename%3DFrank_Lampard_2019.jpeg\u0026X-Amz-Signature=ed750e6a28aceb9ed8dce41dabc8cdbd32847f51f497b725c4efea5fad7582c3","employee_name":"Arief Employee 3","job_position":"Lead Engineer","company_name":"-","parent_id":2,"is_management_trainee":false,"child":[{"id":4,"employee_id":4,"country_id":"MCS-0000002","company_id":"PP01","division_id":"1","department_id":"1","job_id":"4","image_url":"https://storage.epc.nabatisnack.co.id:9000/hcms/Frank_Lampard_2019.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=KwFYq6xB4r9h0itI6bxB%2F20240425%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240425T015950Z\u0026X-Amz-Expires=432000\u0026X-Amz-SignedHeaders=host\u0026response-content-disposition=attachment%3B%20filename%3DFrank_Lampard_2019.jpeg\u0026X-Amz-Signature=ed750e6a28aceb9ed8dce41dabc8cdbd32847f51f497b725c4efea5fad7582c3","employee_name":"Arief Employee 4","job_position":"Backend","company_name":"-","parent_id":3,"is_management_trainee":false,"child":null},{"id":5,"employee_id":5,"country_id":"MCS-0000002","company_id":"PP01","division_id":"1","department_id":"1","job_id":"4","image_url":"https://storage.epc.nabatisnack.co.id:9000/hcms/Frank_Lampard_2019.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=KwFYq6xB4r9h0itI6bxB%2F20240425%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240425T015950Z\u0026X-Amz-Expires=432000\u0026X-Amz-SignedHeaders=host\u0026response-content-disposition=attachment%3B%20filename%3DFrank_Lampard_2019.jpeg\u0026X-Amz-Signature=ed750e6a28aceb9ed8dce41dabc8cdbd32847f51f497b725c4efea5fad7582c3","employee_name":"Arief Employee 5","job_position":"Backend","company_name":"-","parent_id":3,"is_management_trainee":false,"child":null},{"id":6,"employee_id":6,"country_id":"MCS-0000003","company_id":"PP01","division_id":"1","department_id":"1","job_id":"4","image_url":"https://storage.epc.nabatisnack.co.id:9000/hcms/Frank_Lampard_2019.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=KwFYq6xB4r9h0itI6bxB%2F20240425%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240425T015950Z\u0026X-Amz-Expires=432000\u0026X-Amz-SignedHeaders=host\u0026response-content-disposition=attachment%3B%20filename%3DFrank_Lampard_2019.jpeg\u0026X-Amz-Signature=ed750e6a28aceb9ed8dce41dabc8cdbd32847f51f497b725c4efea5fad7582c3","employee_name":"Arief Employee 6","job_position":"Backend","company_name":"-","parent_id":3,"is_management_trainee":false,"child":null},{"id":7,"employee_id":7,"country_id":"MCS-0000003","company_id":"PP01","division_id":"1","department_id":"1","job_id":"4","image_url":"https://storage.epc.nabatisnack.co.id:9000/hcms/Frank_Lampard_2019.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=KwFYq6xB4r9h0itI6bxB%2F20240425%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240425T015950Z\u0026X-Amz-Expires=432000\u0026X-Amz-SignedHeaders=host\u0026response-content-disposition=attachment%3B%20filename%3DFrank_Lampard_2019.jpeg\u0026X-Amz-Signature=ed750e6a28aceb9ed8dce41dabc8cdbd32847f51f497b725c4efea5fad7582c3","employee_name":"Arief Employee 7","job_position":"Backend","company_name":"-","parent_id":3,"is_management_trainee":false,"child":null}]},{"id":9,"employee_id":9,"country_id":"MCS-0000002","company_id":"PP01","division_id":"1","department_id":"1","job_id":"3","image_url":"https://storage.epc.nabatisnack.co.id:9000/hcms/Frank_Lampard_2019.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=KwFYq6xB4r9h0itI6bxB%2F20240425%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240425T015950Z\u0026X-Amz-Expires=432000\u0026X-Amz-SignedHeaders=host\u0026response-content-disposition=attachment%3B%20filename%3DFrank_Lampard_2019.jpeg\u0026X-Amz-Signature=ed750e6a28aceb9ed8dce41dabc8cdbd32847f51f497b725c4efea5fad7582c3","employee_name":"Arief Employee 9","job_position":"Lead Engineer","company_name":"-","parent_id":2,"is_management_trainee":false,"child":null},{"id":12,"employee_id":12,"country_id":"MCS-0000002","company_id":"PP01","division_id":"1","department_id":"1","job_id":"3","image_url":"https://storage.epc.nabatisnack.co.id:9000/hcms/Frank_Lampard_2019.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=KwFYq6xB4r9h0itI6bxB%2F20240425%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240425T015950Z\u0026X-Amz-Expires=432000\u0026X-Amz-SignedHeaders=host\u0026response-content-disposition=attachment%3B%20filename%3DFrank_Lampard_2019.jpeg\u0026X-Amz-Signature=ed750e6a28aceb9ed8dce41dabc8cdbd32847f51f497b725c4efea5fad7582c3","employee_name":"Arief Employee 12","job_position":"Lead Engineer","company_name":"-","parent_id":2,"is_management_trainee":false,"child":null}]},{"id":8,"employee_id":8,"country_id":"MCS-0000002","company_id":"PP01","division_id":"2","department_id":"1","job_id":"2","image_url":"https://storage.epc.nabatisnack.co.id:9000/hcms/Frank_Lampard_2019.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=KwFYq6xB4r9h0itI6bxB%2F20240425%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240425T015950Z\u0026X-Amz-Expires=432000\u0026X-Amz-SignedHeaders=host\u0026response-content-disposition=attachment%3B%20filename%3DFrank_Lampard_2019.jpeg\u0026X-Amz-Signature=ed750e6a28aceb9ed8dce41dabc8cdbd32847f51f497b725c4efea5fad7582c3","employee_name":"Arief Employee 8","job_position":"Engineering Manager","company_name":"-","parent_id":1,"is_management_trainee":false,"child":[{"id":10,"employee_id":10,"country_id":"MCS-0000002","company_id":"PP01","division_id":"2","department_id":"1","job_id":"2","image_url":"https://storage.epc.nabatisnack.co.id:9000/hcms/Frank_Lampard_2019.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=KwFYq6xB4r9h0itI6bxB%2F20240425%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240425T015950Z\u0026X-Amz-Expires=432000\u0026X-Amz-SignedHeaders=host\u0026response-content-disposition=attachment%3B%20filename%3DFrank_Lampard_2019.jpeg\u0026X-Amz-Signature=ed750e6a28aceb9ed8dce41dabc8cdbd32847f51f497b725c4efea5fad7582c3","employee_name":"Arief Employee 10","job_position":"Engineering Manager","company_name":"-","parent_id":8,"is_management_trainee":true,"child":null},{"id":11,"employee_id":11,"country_id":"MCS-0000002","company_id":"PP01","division_id":"2","department_id":"1","job_id":"2","image_url":"https://storage.epc.nabatisnack.co.id:9000/hcms/Frank_Lampard_2019.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=KwFYq6xB4r9h0itI6bxB%2F20240425%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240425T015950Z\u0026X-Amz-Expires=432000\u0026X-Amz-SignedHeaders=host\u0026response-content-disposition=attachment%3B%20filename%3DFrank_Lampard_2019.jpeg\u0026X-Amz-Signature=ed750e6a28aceb9ed8dce41dabc8cdbd32847f51f497b725c4efea5fad7582c3","employee_name":"","job_position":"Engineering Manager","company_name":"-","parent_id":8,"is_management_trainee":false,"child":null}]},{"id":13,"employee_id":13,"country_id":"MCS-0000002","company_id":"PP01","division_id":"1","department_id":"1","job_id":"3","image_url":"https://storage.epc.nabatisnack.co.id:9000/hcms/Frank_Lampard_2019.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=KwFYq6xB4r9h0itI6bxB%2F20240425%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240425T015950Z\u0026X-Amz-Expires=432000\u0026X-Amz-SignedHeaders=host\u0026response-content-disposition=attachment%3B%20filename%3DFrank_Lampard_2019.jpeg\u0026X-Amz-Signature=ed750e6a28aceb9ed8dce41dabc8cdbd32847f51f497b725c4efea5fad7582c3","employee_name":"Arief Employee 13","job_position":"Lead Engineer","company_name":"-","parent_id":1,"is_management_trainee":false,"child":null}]}],"route":"/v2/organization-structure","time":"2024-04-25T01:59:50Z"}
{"app_name":"Human-Capital-Api","app_version":"0.1.0","level":"info","log":"logrus","log_type":"query","msg":"\n\t\t\tWITH RECURSIVE EmployeeHierarchy AS (\n        SELECT \n            hos.id,\n            hos.employee_id,\n            hos.parent_id,\n            hos.company_name,\n            hos.job_id,\n\t\t\the.country_id,\n\t\t\thos.company_id\n        FROM \n            hc_org_structure as hos\n\t\tINNER JOIN\n\t\t\thc_employee he ON hos.employee_id = he.id\n        WHERE \n            1 = 1 UNION ALL\n        SELECT \n            hos.id,\n            hos.employee_id,\n            hos.parent_id,\n            hos.company_name,\n            hos.job_id,\n\t\t\teh.country_id,\n\t\t\teh.company_id\n        FROM \n            hc_org_structure hos\n        INNER JOIN \n            EmployeeHierarchy eh ON hos.parent_id = eh.id\n    )\n\t\t\tSELECT \n\t\t\t\tDISTINCT\n\t\t\t\thos.employee_id,\n\t\t\t\thos.id, \n\t\t\t\the.name as employee_name,\n\t\t\t\thos.company_name, \n\t\t\t\tIFNULL(hos.parent_id, 0) as parent_id,\n\t\t\t\thj.job_title as job_position,\n\t\t\t\the.image_url as image_url,\n\t\t\t\the.is_management_trainee,\n\t\t\t\the.country_id,\n\t\t\t\thos.company_id,\n\t\t\t\thos.division_id,\n\t\t\t\thos.department_id,\n\t\t\t\thos.job_id\n\t\t\tFROM hc_org_structure as hos\n\t\t\tINNER JOIN hc_employee as he ON hos.employee_id = he.id\n\t\t\tINNER JOIN hc_job as hj ON hos.job_id = hj.id\n\t\t\tINNER JOIN EmployeeHierarchy ON hos.id = EmployeeHierarchy.id\n\t\t\tWHERE hos.is_delete = ? ","time":"2024-04-25T02:02:41Z"}
{"app_name":"Human-Capital-Api","app_version":"0.1.0","level":"info","log":"logrus","log_type":"response","method":"GET","msg":"get lists data organization structure success","request":"{\n    \"name\":\"dedi\"\n}","response":[{"id":1,"employee_id":1,"country_id":"MCS-0000002","company_id":"PP01","division_id":"1","department_id":"1","job_id":"1","image_url":"https://storage.epc.nabatisnack.co.id:9000/hcms/Frank_Lampard_2019.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=KwFYq6xB4r9h0itI6bxB%2F20240425%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240425T020241Z\u0026X-Amz-Expires=432000\u0026X-Amz-SignedHeaders=host\u0026response-content-disposition=attachment%3B%20filename%3DFrank_Lampard_2019.jpeg\u0026X-Amz-Signature=f963543c73e47612658c54ae18781f7e2ea4f0f3824b270f8208a092b4a9fbac","employee_name":"Arief Employee 1","job_position":"CTO","company_name":"-","parent_id":0,"is_management_trainee":false,"child":[{"id":2,"employee_id":2,"country_id":"MCS-0000002","company_id":"PP01","division_id":"2","department_id":"1","job_id":"2","image_url":"https://storage.epc.nabatisnack.co.id:9000/hcms/Frank_Lampard_2019.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=KwFYq6xB4r9h0itI6bxB%2F20240425%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240425T020241Z\u0026X-Amz-Expires=432000\u0026X-Amz-SignedHeaders=host\u0026response-content-disposition=attachment%3B%20filename%3DFrank_Lampard_2019.jpeg\u0026X-Amz-Signature=f963543c73e47612658c54ae18781f7e2ea4f0f3824b270f8208a092b4a9fbac","employee_name":"Arief Employee 2","job_position":"Engineering Manager","company_name":"-","parent_id":1,"is_management_trainee":false,"child":[{"id":3,"employee_id":3,"country_id":"MCS-0000002","company_id":"PP01","division_id":"1","department_id":"1","job_id":"3","image_url":"https://storage.epc.nabatisnack.co.id:9000/hcms/Frank_Lampard_2019.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=KwFYq6xB4r9h0itI6bxB%2F20240425%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240425T020241Z\u0026X-Amz-Expires=432000\u0026X-Amz-SignedHeaders=host\u0026response-content-disposition=attachment%3B%20filename%3DFrank_Lampard_2019.jpeg\u0026X-Amz-Signature=f963543c73e47612658c54ae18781f7e2ea4f0f3824b270f8208a092b4a9fbac","employee_name":"Arief Employee 3","job_position":"Lead Engineer","company_name":"-","parent_id":2,"is_management_trainee":false,"child":[{"id":4,"employee_id":4,"country_id":"MCS-0000002","company_id":"PP01","division_id":"1","department_id":"1","job_id":"4","image_url":"https://storage.epc.nabatisnack.co.id:9000/hcms/Frank_Lampard_2019.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=KwFYq6xB4r9h0itI6bxB%2F20240425%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240425T020241Z\u0026X-Amz-Expires=432000\u0026X-Amz-SignedHeaders=host\u0026response-content-disposition=attachment%3B%20filename%3DFrank_Lampard_2019.jpeg\u0026X-Amz-Signature=f963543c73e47612658c54ae18781f7e2ea4f0f3824b270f8208a092b4a9fbac","employee_name":"Arief Employee 4","job_position":"Backend","company_name":"-","parent_id":3,"is_management_trainee":false,"child":null},{"id":5,"employee_id":5,"country_id":"MCS-0000002","company_id":"PP01","division_id":"1","department_id":"1","job_id":"4","image_url":"https://storage.epc.nabatisnack.co.id:9000/hcms/Frank_Lampard_2019.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=KwFYq6xB4r9h0itI6bxB%2F20240425%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240425T020241Z\u0026X-Amz-Expires=432000\u0026X-Amz-SignedHeaders=host\u0026response-content-disposition=attachment%3B%20filename%3DFrank_Lampard_2019.jpeg\u0026X-Amz-Signature=f963543c73e47612658c54ae18781f7e2ea4f0f3824b270f8208a092b4a9fbac","employee_name":"Arief Employee 5","job_position":"Backend","company_name":"-","parent_id":3,"is_management_trainee":false,"child":null},{"id":6,"employee_id":6,"country_id":"MCS-0000003","company_id":"PP01","division_id":"1","department_id":"1","job_id":"4","image_url":"https://storage.epc.nabatisnack.co.id:9000/hcms/Frank_Lampard_2019.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=KwFYq6xB4r9h0itI6bxB%2F20240425%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240425T020241Z\u0026X-Amz-Expires=432000\u0026X-Amz-SignedHeaders=host\u0026response-content-disposition=attachment%3B%20filename%3DFrank_Lampard_2019.jpeg\u0026X-Amz-Signature=f963543c73e47612658c54ae18781f7e2ea4f0f3824b270f8208a092b4a9fbac","employee_name":"Arief Employee 6","job_position":"Backend","company_name":"-","parent_id":3,"is_management_trainee":false,"child":null},{"id":7,"employee_id":7,"country_id":"MCS-0000003","company_id":"PP01","division_id":"1","department_id":"1","job_id":"4","image_url":"https://storage.epc.nabatisnack.co.id:9000/hcms/Frank_Lampard_2019.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=KwFYq6xB4r9h0itI6bxB%2F20240425%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240425T020241Z\u0026X-Amz-Expires=432000\u0026X-Amz-SignedHeaders=host\u0026response-content-disposition=attachment%3B%20filename%3DFrank_Lampard_2019.jpeg\u0026X-Amz-Signature=f963543c73e47612658c54ae18781f7e2ea4f0f3824b270f8208a092b4a9fbac","employee_name":"Arief Employee 7","job_position":"Backend","company_name":"-","parent_id":3,"is_management_trainee":false,"child":null}]},{"id":9,"employee_id":9,"country_id":"MCS-0000002","company_id":"PP01","division_id":"1","department_id":"1","job_id":"3","image_url":"https://storage.epc.nabatisnack.co.id:9000/hcms/Frank_Lampard_2019.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=KwFYq6xB4r9h0itI6bxB%2F20240425%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240425T020241Z\u0026X-Amz-Expires=432000\u0026X-Amz-SignedHeaders=host\u0026response-content-disposition=attachment%3B%20filename%3DFrank_Lampard_2019.jpeg\u0026X-Amz-Signature=f963543c73e47612658c54ae18781f7e2ea4f0f3824b270f8208a092b4a9fbac","employee_name":"Arief Employee 9","job_position":"Lead Engineer","company_name":"-","parent_id":2,"is_management_trainee":false,"child":null},{"id":12,"employee_id":12,"country_id":"MCS-0000002","company_id":"PP01","division_id":"1","department_id":"1","job_id":"3","image_url":"https://storage.epc.nabatisnack.co.id:9000/hcms/Frank_Lampard_2019.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=KwFYq6xB4r9h0itI6bxB%2F20240425%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240425T020241Z\u0026X-Amz-Expires=432000\u0026X-Amz-SignedHeaders=host\u0026response-content-disposition=attachment%3B%20filename%3DFrank_Lampard_2019.jpeg\u0026X-Amz-Signature=f963543c73e47612658c54ae18781f7e2ea4f0f3824b270f8208a092b4a9fbac","employee_name":"Arief Employee 12","job_position":"Lead Engineer","company_name":"-","parent_id":2,"is_management_trainee":false,"child":null}]},{"id":8,"employee_id":8,"country_id":"MCS-0000002","company_id":"PP01","division_id":"2","department_id":"1","job_id":"2","image_url":"https://storage.epc.nabatisnack.co.id:9000/hcms/Frank_Lampard_2019.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=KwFYq6xB4r9h0itI6bxB%2F20240425%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240425T020241Z\u0026X-Amz-Expires=432000\u0026X-Amz-SignedHeaders=host\u0026response-content-disposition=attachment%3B%20filename%3DFrank_Lampard_2019.jpeg\u0026X-Amz-Signature=f963543c73e47612658c54ae18781f7e2ea4f0f3824b270f8208a092b4a9fbac","employee_name":"Arief Employee 8","job_position":"Engineering Manager","company_name":"-","parent_id":1,"is_management_trainee":false,"child":[{"id":10,"employee_id":10,"country_id":"MCS-0000002","company_id":"PP01","division_id":"2","department_id":"1","job_id":"2","image_url":"https://storage.epc.nabatisnack.co.id:9000/hcms/Frank_Lampard_2019.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=KwFYq6xB4r9h0itI6bxB%2F20240425%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240425T020241Z\u0026X-Amz-Expires=432000\u0026X-Amz-SignedHeaders=host\u0026response-content-disposition=attachment%3B%20filename%3DFrank_Lampard_2019.jpeg\u0026X-Amz-Signature=f963543c73e47612658c54ae18781f7e2ea4f0f3824b270f8208a092b4a9fbac","employee_name":"Arief Employee 10","job_position":"Engineering Manager","company_name":"-","parent_id":8,"is_management_trainee":true,"child":null},{"id":11,"employee_id":11,"country_id":"MCS-0000002","company_id":"PP01","division_id":"2","department_id":"1","job_id":"2","image_url":"https://storage.epc.nabatisnack.co.id:9000/hcms/Frank_Lampard_2019.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=KwFYq6xB4r9h0itI6bxB%2F20240425%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240425T020241Z\u0026X-Amz-Expires=432000\u0026X-Amz-SignedHeaders=host\u0026response-content-disposition=attachment%3B%20filename%3DFrank_Lampard_2019.jpeg\u0026X-Amz-Signature=f963543c73e47612658c54ae18781f7e2ea4f0f3824b270f8208a092b4a9fbac","employee_name":"","job_position":"Engineering Manager","company_name":"-","parent_id":8,"is_management_trainee":false,"child":null},{"id":13,"employee_id":13,"country_id":"MCS-0000002","company_id":"PP01","division_id":"1","department_id":"1","job_id":"3","image_url":"https://storage.epc.nabatisnack.co.id:9000/hcms/Frank_Lampard_2019.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=KwFYq6xB4r9h0itI6bxB%2F20240425%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240425T020241Z\u0026X-Amz-Expires=432000\u0026X-Amz-SignedHeaders=host\u0026response-content-disposition=attachment%3B%20filename%3DFrank_Lampard_2019.jpeg\u0026X-Amz-Signature=f963543c73e47612658c54ae18781f7e2ea4f0f3824b270f8208a092b4a9fbac","employee_name":"Arief Employee 13","job_position":"Lead Engineer","company_name":"-","parent_id":8,"is_management_trainee":false,"child":null}]}]}],"route":"/v2/organization-structure","time":"2024-04-25T02:02:41Z"}
{"app_name":"Human-Capital-Api","app_version":"0.1.0","level":"info","log":"logrus","log_type":"query","msg":"\n\t\t\tWITH RECURSIVE EmployeeHierarchy AS (\n        SELECT \n            hos.id,\n            hos.employee_id,\n            hos.parent_id,\n            hos.company_name,\n            hos.job_id,\n\t\t\the.country_id,\n\t\t\thos.company_id\n        FROM \n            hc_org_structure as hos\n\t\tINNER JOIN\n\t\t\thc_employee he ON hos.employee_id = he.id\n        WHERE \n            1 = 1 UNION ALL\n        SELECT \n            hos.id,\n            hos.employee_id,\n            hos.parent_id,\n            hos.company_name,\n            hos.job_id,\n\t\t\teh.country_id,\n\t\t\teh.company_id\n        FROM \n            hc_org_structure hos\n        INNER JOIN \n            EmployeeHierarchy eh ON hos.parent_id = eh.id\n    )\n\t\t\tSELECT \n\t\t\t\tDISTINCT\n\t\t\t\thos.employee_id,\n\t\t\t\thos.id, \n\t\t\t\the.name as employee_name,\n\t\t\t\thos.company_name, \n\t\t\t\tIFNULL(hos.parent_id, 0) as parent_id,\n\t\t\t\thj.job_title as job_position,\n\t\t\t\the.image_url as image_url,\n\t\t\t\the.is_management_trainee,\n\t\t\t\the.country_id,\n\t\t\t\thos.company_id,\n\t\t\t\thos.division_id,\n\t\t\t\thos.department_id,\n\t\t\t\thos.job_id\n\t\t\tFROM hc_org_structure as hos\n\t\t\tINNER JOIN hc_employee as he ON hos.employee_id = he.id\n\t\t\tINNER JOIN hc_job as hj ON hos.job_id = hj.id\n\t\t\tINNER JOIN EmployeeHierarchy ON hos.id = EmployeeHierarchy.id\n\t\t\tWHERE hos.is_delete = ? ","time":"2024-04-25T02:03:54Z"}
{"app_name":"Human-Capital-Api","app_version":"0.1.0","level":"info","log":"logrus","log_type":"response","method":"GET","msg":"get lists data organization structure success","request":"{\n    \"name\":\"dedi\"\n}","response":[{"id":1,"employee_id":1,"country_id":"MCS-0000002","company_id":"PP01","division_id":"1","department_id":"1","job_id":"1","image_url":"https://storage.epc.nabatisnack.co.id:9000/hcms/Frank_Lampard_2019.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=KwFYq6xB4r9h0itI6bxB%2F20240425%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240425T020354Z\u0026X-Amz-Expires=432000\u0026X-Amz-SignedHeaders=host\u0026response-content-disposition=attachment%3B%20filename%3DFrank_Lampard_2019.jpeg\u0026X-Amz-Signature=cbeb1dd0463066fec589166d98b635f1a866de4e50a470abe1439e7dca030d17","employee_name":"Arief Employee 1","job_position":"CTO","company_name":"-","parent_id":0,"is_management_trainee":false,"child":[{"id":2,"employee_id":2,"country_id":"MCS-0000002","company_id":"PP01","division_id":"2","department_id":"1","job_id":"2","image_url":"https://storage.epc.nabatisnack.co.id:9000/hcms/Frank_Lampard_2019.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=KwFYq6xB4r9h0itI6bxB%2F20240425%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240425T020354Z\u0026X-Amz-Expires=432000\u0026X-Amz-SignedHeaders=host\u0026response-content-disposition=attachment%3B%20filename%3DFrank_Lampard_2019.jpeg\u0026X-Amz-Signature=cbeb1dd0463066fec589166d98b635f1a866de4e50a470abe1439e7dca030d17","employee_name":"Arief Employee 2","job_position":"Engineering Manager","company_name":"-","parent_id":1,"is_management_trainee":false,"child":[{"id":3,"employee_id":3,"country_id":"MCS-0000002","company_id":"PP01","division_id":"1","department_id":"1","job_id":"3","image_url":"https://storage.epc.nabatisnack.co.id:9000/hcms/Frank_Lampard_2019.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=KwFYq6xB4r9h0itI6bxB%2F20240425%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240425T020354Z\u0026X-Amz-Expires=432000\u0026X-Amz-SignedHeaders=host\u0026response-content-disposition=attachment%3B%20filename%3DFrank_Lampard_2019.jpeg\u0026X-Amz-Signature=cbeb1dd0463066fec589166d98b635f1a866de4e50a470abe1439e7dca030d17","employee_name":"Arief Employee 3","job_position":"Lead Engineer","company_name":"-","parent_id":2,"is_management_trainee":false,"child":[{"id":4,"employee_id":4,"country_id":"MCS-0000002","company_id":"PP01","division_id":"1","department_id":"1","job_id":"4","image_url":"https://storage.epc.nabatisnack.co.id:9000/hcms/Frank_Lampard_2019.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=KwFYq6xB4r9h0itI6bxB%2F20240425%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240425T020354Z\u0026X-Amz-Expires=432000\u0026X-Amz-SignedHeaders=host\u0026response-content-disposition=attachment%3B%20filename%3DFrank_Lampard_2019.jpeg\u0026X-Amz-Signature=cbeb1dd0463066fec589166d98b635f1a866de4e50a470abe1439e7dca030d17","employee_name":"Arief Employee 4","job_position":"Backend","company_name":"-","parent_id":3,"is_management_trainee":false,"child":null},{"id":5,"employee_id":5,"country_id":"MCS-0000002","company_id":"PP01","division_id":"1","department_id":"1","job_id":"4","image_url":"https://storage.epc.nabatisnack.co.id:9000/hcms/Frank_Lampard_2019.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=KwFYq6xB4r9h0itI6bxB%2F20240425%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240425T020354Z\u0026X-Amz-Expires=432000\u0026X-Amz-SignedHeaders=host\u0026response-content-disposition=attachment%3B%20filename%3DFrank_Lampard_2019.jpeg\u0026X-Amz-Signature=cbeb1dd0463066fec589166d98b635f1a866de4e50a470abe1439e7dca030d17","employee_name":"Arief Employee 5","job_position":"Backend","company_name":"-","parent_id":3,"is_management_trainee":false,"child":null},{"id":6,"employee_id":6,"country_id":"MCS-0000003","company_id":"PP01","division_id":"1","department_id":"1","job_id":"4","image_url":"https://storage.epc.nabatisnack.co.id:9000/hcms/Frank_Lampard_2019.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=KwFYq6xB4r9h0itI6bxB%2F20240425%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240425T020354Z\u0026X-Amz-Expires=432000\u0026X-Amz-SignedHeaders=host\u0026response-content-disposition=attachment%3B%20filename%3DFrank_Lampard_2019.jpeg\u0026X-Amz-Signature=cbeb1dd0463066fec589166d98b635f1a866de4e50a470abe1439e7dca030d17","employee_name":"Arief Employee 6","job_position":"Backend","company_name":"-","parent_id":3,"is_management_trainee":false,"child":null},{"id":7,"employee_id":7,"country_id":"MCS-0000003","company_id":"PP01","division_id":"1","department_id":"1","job_id":"4","image_url":"https://storage.epc.nabatisnack.co.id:9000/hcms/Frank_Lampard_2019.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=KwFYq6xB4r9h0itI6bxB%2F20240425%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240425T020354Z\u0026X-Amz-Expires=432000\u0026X-Amz-SignedHeaders=host\u0026response-content-disposition=attachment%3B%20filename%3DFrank_Lampard_2019.jpeg\u0026X-Amz-Signature=cbeb1dd0463066fec589166d98b635f1a866de4e50a470abe1439e7dca030d17","employee_name":"Arief Employee 7","job_position":"Backend","company_name":"-","parent_id":3,"is_management_trainee":false,"child":null}]},{"id":9,"employee_id":9,"country_id":"MCS-0000002","company_id":"PP01","division_id":"1","department_id":"1","job_id":"3","image_url":"https://storage.epc.nabatisnack.co.id:9000/hcms/Frank_Lampard_2019.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=KwFYq6xB4r9h0itI6bxB%2F20240425%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240425T020354Z\u0026X-Amz-Expires=432000\u0026X-Amz-SignedHeaders=host\u0026response-content-disposition=attachment%3B%20filename%3DFrank_Lampard_2019.jpeg\u0026X-Amz-Signature=cbeb1dd0463066fec589166d98b635f1a866de4e50a470abe1439e7dca030d17","employee_name":"Arief Employee 9","job_position":"Lead Engineer","company_name":"-","parent_id":2,"is_management_trainee":false,"child":null},{"id":12,"employee_id":12,"country_id":"MCS-0000002","company_id":"PP01","division_id":"1","department_id":"1","job_id":"3","image_url":"https://storage.epc.nabatisnack.co.id:9000/hcms/Frank_Lampard_2019.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=KwFYq6xB4r9h0itI6bxB%2F20240425%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240425T020354Z\u0026X-Amz-Expires=432000\u0026X-Amz-SignedHeaders=host\u0026response-content-disposition=attachment%3B%20filename%3DFrank_Lampard_2019.jpeg\u0026X-Amz-Signature=cbeb1dd0463066fec589166d98b635f1a866de4e50a470abe1439e7dca030d17","employee_name":"Arief Employee 12","job_position":"Lead Engineer","company_name":"-","parent_id":2,"is_management_trainee":false,"child":null}]},{"id":8,"employee_id":8,"country_id":"MCS-0000002","company_id":"PP01","division_id":"2","department_id":"1","job_id":"2","image_url":"https://storage.epc.nabatisnack.co.id:9000/hcms/Frank_Lampard_2019.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=KwFYq6xB4r9h0itI6bxB%2F20240425%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240425T020354Z\u0026X-Amz-Expires=432000\u0026X-Amz-SignedHeaders=host\u0026response-content-disposition=attachment%3B%20filename%3DFrank_Lampard_2019.jpeg\u0026X-Amz-Signature=cbeb1dd0463066fec589166d98b635f1a866de4e50a470abe1439e7dca030d17","employee_name":"Arief Employee 8","job_position":"Engineering Manager","company_name":"-","parent_id":1,"is_management_trainee":false,"child":[{"id":13,"employee_id":13,"country_id":"MCS-0000002","company_id":"PP01","division_id":"1","department_id":"1","job_id":"3","image_url":"https://storage.epc.nabatisnack.co.id:9000/hcms/Frank_Lampard_2019.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=KwFYq6xB4r9h0itI6bxB%2F20240425%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240425T020354Z\u0026X-Amz-Expires=432000\u0026X-Amz-SignedHeaders=host\u0026response-content-disposition=attachment%3B%20filename%3DFrank_Lampard_2019.jpeg\u0026X-Amz-Signature=cbeb1dd0463066fec589166d98b635f1a866de4e50a470abe1439e7dca030d17","employee_name":"Arief Employee 13","job_position":"Lead Engineer","company_name":"-","parent_id":8,"is_management_trainee":false,"child":null}]},{"id":10,"employee_id":10,"country_id":"MCS-0000002","company_id":"PP01","division_id":"2","department_id":"1","job_id":"2","image_url":"https://storage.epc.nabatisnack.co.id:9000/hcms/Frank_Lampard_2019.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=KwFYq6xB4r9h0itI6bxB%2F20240425%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240425T020354Z\u0026X-Amz-Expires=432000\u0026X-Amz-SignedHeaders=host\u0026response-content-disposition=attachment%3B%20filename%3DFrank_Lampard_2019.jpeg\u0026X-Amz-Signature=cbeb1dd0463066fec589166d98b635f1a866de4e50a470abe1439e7dca030d17","employee_name":"Arief Employee 10","job_position":"Engineering Manager","company_name":"-","parent_id":1,"is_management_trainee":true,"child":null},{"id":11,"employee_id":11,"country_id":"MCS-0000002","company_id":"PP01","division_id":"2","department_id":"1","job_id":"2","image_url":"https://storage.epc.nabatisnack.co.id:9000/hcms/Frank_Lampard_2019.jpeg?X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=KwFYq6xB4r9h0itI6bxB%2F20240425%2Fus-east-1%2Fs3%2Faws4_request\u0026X-Amz-Date=20240425T020354Z\u0026X-Amz-Expires=432000\u0026X-Amz-SignedHeaders=host\u0026response-content-disposition=attachment%3B%20filename%3DFrank_Lampard_2019.jpeg\u0026X-Amz-Signature=cbeb1dd0463066fec589166d98b635f1a866de4e50a470abe1439e7dca030d17","employee_name":"","job_position":"Engineering Manager","company_name":"-","parent_id":1,"is_management_trainee":false,"child":null}]}],"route":"/v2/organization-structure","time":"2024-04-25T02:03:54Z"}
